<%= simple_form_for @shot, html: { multipart: true }  do |f| %>

    <div class="columns is-centered is-desktop">

      <div class="column hero white drag">
        <%= link_to 'Back', shots_path, class:"text optional label" %>
          <% unless @shot.user_shot.blank?  || @shot.user_shot.size > 2.megabytes %>
            <%= cl_image_tag @shot.user_shot_url, id: "previewImage" %>
          <% end %>
          <br/>

          <output id="list"></output>
          <div id="drop_zone" class="title-drag is-size-5">DRAG AN DROP AN IMAGE <p class="subtitle cards is-size-6">or <span>browse</span> to choose a file</p></div>
            <br/>
            <br/>
                <%#= f.input :user_shot, label: false, multiple: true, wrapper: false, label_html: { class: "file-label" } %>
          <div id="file-js-examples" class="file has-name">
            <label class="file is-primary has-name is-small">
              <%= f.file_field :user_shot, class: 'file-input', onchange: "validateFiles(this);", data: { max_file_size: 2.megabytes } %>
              <span class="file-cta">
                <span class="file-icon">
                  <i class="fas fa-upload"></i>
                </span>
                <span class="file-label">
                  Choose a fileâ€¦
                </span>
              </span>
              <span class="file-name">
                No file uploaded
              </span>
            </label>
          </div>
          <%= f.error_notification message: 'Max size 2MB' %>
      </div>

        <div class="column hero is-warning profile">
          <div>
            <p class="subtitle cards">EDITING A PHOTO</p> 

            <div class="field">
              <div class="control">
                <%= f.input :title, label: "Title", input_html: { class: "input"}, wrapper: false, label_html: { class: "label" } %>
              </div>
            </div>

            <div class="field">
              <div class="control">
                <%= f.input :description, input_html: { class: "textarea"}, wrapper: false, label_html: { class: "label" } %>
              </div>
            </div>

            <div class="field">
              <div class="control">
                <%= f.button :submit, class:"button is-prime is-small" %>
              </div>
              <div style="display: flex;">
                <%= link_to 'Show', @shot, class:"text optional label mt3" %>
              </div> 
            </div>

          </div>
        </div>          
        <% end %>
               
<script>
  const fileInput = document.querySelector('#file-js-examples input[type=file]');
  fileInput.onchange = () => {
    if (fileInput.files.length > 0) {
      const fileName = document.querySelector('#file-js-examples .file-name');
      fileName.textContent = fileInput.files[0].name;
    }
  }
</script>